{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Introduction","text":"<p>The Graphic Server Protocol (GSP) is meant to be an API between hardware and software, targeted at developpers who do not want to dive into the arcane of OpenGL, Metal or Vulkan but still want to benefit from GPU speed, versatily and quality.</p> <p>The overall goal of GSP is not to provide a general graphics API but rather to address only scientific visualization, which requires a far fewer number of objects and concepts, with specific requirements on rendering quality though. The API is voluntarily small and targets the smallest set of visuals that allow to render the vast majority of scientific plots (2d or 3d).</p>"},{"location":"api/protocol.html","title":"Protocol","text":""},{"location":"api/protocol.html#header-part","title":"Header Part","text":"<pre><code>/**\n * Defines an integer number in the range of -2^31 to 2^31 - 1.\n */\nexport type integer = number;\n</code></pre>"},{"location":"api/protocol.html#content-part","title":"Content Part","text":""},{"location":"api/protocol.html#base-types","title":"Base Types","text":""},{"location":"api/protocol.html#request-message","title":"Request Message","text":""},{"location":"api/protocol.html#response-message","title":"Response Message","text":""},{"location":"api/protocol.html#notification-message","title":"Notification Message","text":""},{"location":"api/core/buffer.html","title":"Buffer","text":""},{"location":"api/core/buffer.html#gsp.core.buffer.Buffer","title":"Buffer","text":"<pre><code>Buffer(count: int, dtype: list)\n</code></pre> <p>Buffer represents a structured view on some Data or Buffer. Buffer can be a partial or whole view on the underlying source.</p> Example PYTHONTEXTYAMLJSON <pre><code>from gsp.core.buffer import Buffer\nbuffer = Buffer(128, [(\"color\", 4, \"u1\")])\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Buffer\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:10.935084 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - COUNT: 128 (int)\n     - DTYPE: [('color', 4, 'u1')] (list)\n\n</code></pre> <pre><code>- method: core.Buffer\n  cid: 1\n  timestamp: 1723270870.935084\n  parameters:\n    id: 1\n    count: 128\n    dtype:\n    - !!python/tuple [color, 4, u1]\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Buffer\",\n      \"id\": 1,\n      \"timestamp\": 1723270870.935084,\n      \"parameters\": {\n        \"id\": 1,\n        \"count\": 128,\n        \"dtype\": [\n          [\n            \"color\",\n            4,\n            \"u1\"\n          ]\n        ]\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>Number of item</p> required <code>dtype</code> <code>str</code> <p>Type of the item</p> required"},{"location":"api/core/buffer.html#gsp.core.buffer.Buffer.set_data","title":"set_data","text":"<pre><code>set_data(offset: int, data: bytes)\n</code></pre> <p>Update buffer content at given offset with new data.</p> Example PYTHONTEXTYAMLJSON <pre><code>import numpy as np\nfrom gsp.core.buffer import Buffer\nbuffer = Buffer(2, [\"f4\"])\nbuffer.set_data(0, bytes(2*np.float32(0).nbytes))\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Buffer\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:10.976157 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - COUNT: 2 (int)\n     - DTYPE: ['f4'] (list)\n\n2. COMMAND\n     - METHOD: \"Buffer/set_data\" (str)\n     - COMMAND_ID: 2 (int)\n     - TIMESTAMP: 2024-08-10T08:21:10.976199 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - OFFSET: 0 (int)\n     - DATA: b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00' (bytes)\n\n</code></pre> <pre><code>- method: core.Buffer\n  cid: 1\n  timestamp: 1723270870.976157\n  parameters:\n    id: 1\n    count: 2\n    dtype: [f4]\n- method: Buffer/set_data\n  cid: 2\n  timestamp: 1723270870.976199\n  parameters:\n    id: 1\n    offset: 0\n    data: !!binary |\n      AAAAAAAAAAA=\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Buffer\",\n      \"id\": 1,\n      \"timestamp\": 1723270870.976157,\n      \"parameters\": {\n        \"id\": 1,\n        \"count\": 2,\n        \"dtype\": [\n          \"f4\"\n        ]\n      }\n    },\n    {\n      \"method\": \"Buffer/set_data\",\n      \"id\": 2,\n      \"timestamp\": 1723270870.976199,\n      \"parameters\": {\n        \"id\": 1,\n        \"offset\": 0,\n        \"data\": \"AAAAAAAAAAA=\"\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>offset</code> <code>int</code> <p>Offset in bytes where to start update</p> required <code>data</code> <code>bytes</code> <p>Content to update with.</p> required"},{"location":"api/core/canvas.html","title":"Canvas","text":""},{"location":"api/core/canvas.html#gsp.core.canvas.Canvas","title":"Canvas","text":"<pre><code>Canvas(width: int, height: int, dpi: float)\n</code></pre> <p>A Canvas is a two-dimensional drawing area of size width \u00d7 height pixels using the specified dpi (dots per inch).</p> Info <ul> <li>A canvas uses a standard color space with at least 8 bits per channel.</li> <li>Blending mode is alpha blending</li> <li>The <code>(0,0)</code> coordinates corresponds to the bottom left corner.</li> <li>A typographical point is 1/72 inch.</li> </ul> Example PYTHONTEXTYAMLJSON <pre><code>from gsp.core.canvas import Canvas\ncanvas = Canvas(512, 512, 100.0)\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Canvas\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:10.984190 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - WIDTH: 512 (int)\n     - HEIGHT: 512 (int)\n     - DPI: 100.0 (float)\n\n</code></pre> <pre><code>- method: core.Canvas\n  cid: 1\n  timestamp: 1723270870.98419\n  parameters: {id: 1, width: 512, height: 512, dpi: 100.0}\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Canvas\",\n      \"id\": 1,\n      \"timestamp\": 1723270870.98419,\n      \"parameters\": {\n        \"id\": 1,\n        \"width\": 512,\n        \"height\": 512,\n        \"dpi\": 100.0\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>width</code> <code>int</code> <p>Width of the drawing area in pixels.</p> required <code>height</code> <code>int</code> <p>Height of the drawing area in pixels.</p> required <code>dpi</code> <code>float</code> <p>Dots per inch</p> required"},{"location":"api/core/canvas.html#gsp.core.canvas.Canvas.render","title":"render","text":"<pre><code>render(target: str)\n</code></pre> <p>Render the canvas the to specified target. If no target is specified, return a raw image as bytes.</p> Example PYTHONTEXTYAMLJSON <pre><code>from gsp.core.canvas import Canvas\ncanvas = Canvas(512, 512, 100.0)\ncanvas.render(\"png\")\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Canvas\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:10.991147 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - WIDTH: 512 (int)\n     - HEIGHT: 512 (int)\n     - DPI: 100.0 (float)\n\n2. COMMAND\n     - METHOD: \"Canvas/render\" (str)\n     - COMMAND_ID: 2 (int)\n     - TIMESTAMP: 2024-08-10T08:21:10.991166 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - TARGET: png (str)\n\n</code></pre> <pre><code>- method: core.Canvas\n  cid: 1\n  timestamp: 1723270870.991147\n  parameters: {id: 1, width: 512, height: 512, dpi: 100.0}\n- method: Canvas/render\n  cid: 2\n  timestamp: 1723270870.991166\n  parameters: {id: 1, target: png}\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Canvas\",\n      \"id\": 1,\n      \"timestamp\": 1723270870.991147,\n      \"parameters\": {\n        \"id\": 1,\n        \"width\": 512,\n        \"height\": 512,\n        \"dpi\": 100.0\n      }\n    },\n    {\n      \"method\": \"Canvas/render\",\n      \"id\": 2,\n      \"timestamp\": 1723270870.991166,\n      \"parameters\": {\n        \"id\": 1,\n        \"target\": \"png\"\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>target</code> <code>str</code> <p>Filename of the target</p> required"},{"location":"api/core/data.html","title":"Data","text":""},{"location":"api/core/data.html#gsp.core.data.Data","title":"Data","text":"<pre><code>Data(uri: str = '', nbytes: int = 0, dtype: list = None)\n</code></pre> <p>Data represents a block of raw binary data, with an optional structure. This data is built using the provided uri that may either point to an external file, or be a data URI that encodes the binary data directly in the JSON file. When an uri is provided, data will is fetched just in time and stored locally. If no uri has been provided, an empty data is created ex-nihilo, just in time. Data can be modified and is tracked for any modification.</p> Example PYTHONTEXTYAMLJSON <pre><code>from gsp.core.data import Data\ndata = Data(nbytes=512, dtype=[(\"color\", 1, \"u4\")])\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Data\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:10.998564 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - NBYTES: 512 (int)\n     - DTYPE: [('color', 1, 'u4')] (list)\n     - URI:  (str)\n\n</code></pre> <pre><code>- method: core.Data\n  cid: 1\n  timestamp: 1723270870.998564\n  parameters:\n    id: 1\n    nbytes: 512\n    dtype:\n    - !!python/tuple [color, 1, u4]\n    uri: ''\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Data\",\n      \"id\": 1,\n      \"timestamp\": 1723270870.998564,\n      \"parameters\": {\n        \"id\": 1,\n        \"nbytes\": 512,\n        \"dtype\": [\n          [\n            \"color\",\n            1,\n            \"u4\"\n          ]\n        ],\n        \"uri\": \"\"\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>uri</code> <code>str</code> <p>Uniform Resource Identifier from where to fetch data.</p> <code>''</code> <code>nbytes</code> <code>int</code> <p>Number of bytes in the data. This is used to create data ex-nihilo if no uri has been provided. If a dtype is provided, the nbytes is discarded in favor of the size of the provided structure.</p> <code>0</code> <code>dtype</code> <code>list</code> <p>Description of the internal structure of the data as a list of (<code>name</code> (str), <code>type</code> (str), <code>count</code> (int)) items.</p> <p>with:</p> Type Kind <code>i[1,2,4]</code> signed integer (8,16, 32 bits) <code>u[1,2,4]</code> unsigned integer (8,16, 32 bits) <code>f[2,4,8]</code> float (16, 32, 64 bits) <code>m</code> timedelta (64 bits) <code>M</code> datetime (64 bits) <code>U[n]</code> unicode string (n x 16 bits) <code>None</code>"},{"location":"api/core/data.html#gsp.core.data.Data.set_data","title":"set_data","text":"<pre><code>set_data(offset: int, data: bytes)\n</code></pre> <p>Update data content at given offset with new data.</p> Example PYTHONTEXTYAMLJSON <pre><code>import numpy as np\nfrom gsp.core.data import Data\n\nnbytes = 2*np.float32(0).nbytes\ndata = Data(nbytes=nbytes, dtype=[\"f4\"])\ndata.set_data(0, bytes(nbytes))\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Data\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:11.006012 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - NBYTES: 8 (int)\n     - DTYPE: ['f4'] (list)\n     - URI:  (str)\n\n2. COMMAND\n     - METHOD: \"Data/set_data\" (str)\n     - COMMAND_ID: 2 (int)\n     - TIMESTAMP: 2024-08-10T08:21:11.006035 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - OFFSET: 0 (int)\n     - DATA: b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00' (bytes)\n\n</code></pre> <pre><code>- method: core.Data\n  cid: 1\n  timestamp: 1723270871.006012\n  parameters:\n    id: 1\n    nbytes: 8\n    dtype: [f4]\n    uri: ''\n- method: Data/set_data\n  cid: 2\n  timestamp: 1723270871.006035\n  parameters:\n    id: 1\n    offset: 0\n    data: !!binary |\n      AAAAAAAAAAA=\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Data\",\n      \"id\": 1,\n      \"timestamp\": 1723270871.006012,\n      \"parameters\": {\n        \"id\": 1,\n        \"nbytes\": 8,\n        \"dtype\": [\n          \"f4\"\n        ],\n        \"uri\": \"\"\n      }\n    },\n    {\n      \"method\": \"Data/set_data\",\n      \"id\": 2,\n      \"timestamp\": 1723270871.006035,\n      \"parameters\": {\n        \"id\": 1,\n        \"offset\": 0,\n        \"data\": \"AAAAAAAAAAA=\"\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>offset</code> <code>int</code> <p>Offset in bytes where to start update</p> required <code>data</code> <code>bytes</code> <p>Content to update with.</p> required"},{"location":"api/core/viewport.html","title":"Viewport","text":""},{"location":"api/core/viewport.html#gsp.core.viewport.Viewport","title":"Viewport","text":"<pre><code>Viewport(\n    canvas: Canvas,\n    x: int,\n    y: int,\n    width: int,\n    height: int,\n    color: tuple,\n)\n</code></pre> <p>A viewport is a rectangular two-dimensional surface from a canvas, located at (x, y) coordinates (bottom left corner) with size equal to width\u00d7height pixels and a background color.</p> <p>Notes</p> <p>Future implementation will allows viewports to have an arbitrary rotation.</p> Example PYTHONTEXTYAMLJSON <pre><code>from gsp.core import Canvas, Viewport\ncanvas = Canvas(512, 512, 100.0)\nviewport = Viewport(canvas, 0, 0, 512, 512, (0,0,0,1))\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Canvas\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:11.046215 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - WIDTH: 512 (int)\n     - HEIGHT: 512 (int)\n     - DPI: 100.0 (float)\n\n2. COMMAND\n     - METHOD: \"core.Viewport\" (str)\n     - COMMAND_ID: 2 (int)\n     - TIMESTAMP: 2024-08-10T08:21:11.046251 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 2 (int)\n     - CANVAS: 1 (Canvas)\n     - X: 0 (int)\n     - Y: 0 (int)\n     - WIDTH: 512 (int)\n     - HEIGHT: 512 (int)\n     - COLOR: (0, 0, 0, 1) (tuple)\n\n</code></pre> <pre><code>- method: core.Canvas\n  cid: 1\n  timestamp: 1723270871.046215\n  parameters: {id: 1, width: 512, height: 512, dpi: 100.0}\n- method: core.Viewport\n  cid: 2\n  timestamp: 1723270871.046251\n  parameters:\n    id: 2\n    canvas: 1\n    x: 0\n    y: 0\n    width: 512\n    height: 512\n    color: !!python/tuple [0, 0, 0, 1]\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Canvas\",\n      \"id\": 1,\n      \"timestamp\": 1723270871.046215,\n      \"parameters\": {\n        \"id\": 1,\n        \"width\": 512,\n        \"height\": 512,\n        \"dpi\": 100.0\n      }\n    },\n    {\n      \"method\": \"core.Viewport\",\n      \"id\": 2,\n      \"timestamp\": 1723270871.046251,\n      \"parameters\": {\n        \"id\": 2,\n        \"canvas\": 1,\n        \"x\": 0,\n        \"y\": 0,\n        \"width\": 512,\n        \"height\": 512,\n        \"color\": [\n          0,\n          0,\n          0,\n          1\n        ]\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>canvas</code> <code>Canvas</code> <p>Canvas where to create the viewport</p> required <code>x</code> <code>int</code> <p>X coordinate of the viewport bottom left corner</p> required <code>y</code> <code>int</code> <p>Y coordinate of the viewport bottom left corner</p> required <code>width</code> <code>int</code> <p>Width of the viewport in pixels.</p> required <code>height</code> <code>int</code> <p>Height of the viewport in pixels.</p> required <code>color</code> <code>tuple</code> <p>Background color of the viewport</p> required"},{"location":"api/core/viewport.html#gsp.core.viewport.Viewport.render","title":"render","text":"<pre><code>render(target: str)\n</code></pre> <p>Render the viewport to the specified target. If no target is specified, return a raw image as bytes.</p> Example PYTHONTEXTYAMLJSON <pre><code>from gsp.core import Canvas, Viewport\ncanvas = Canvas(512, 512, 100.0)\nviewport = Viewport(canvas, 0, 0, 512, 512, (0,0,0,1))\nviewport.render(\"png\")\n</code></pre> <pre><code>1. COMMAND\n     - METHOD: \"core.Canvas\" (str)\n     - COMMAND_ID: 1 (int)\n     - TIMESTAMP: 2024-08-10T08:21:11.054342 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 1 (int)\n     - WIDTH: 512 (int)\n     - HEIGHT: 512 (int)\n     - DPI: 100.0 (float)\n\n2. COMMAND\n     - METHOD: \"core.Viewport\" (str)\n     - COMMAND_ID: 2 (int)\n     - TIMESTAMP: 2024-08-10T08:21:11.054373 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 2 (int)\n     - CANVAS: 1 (Canvas)\n     - X: 0 (int)\n     - Y: 0 (int)\n     - WIDTH: 512 (int)\n     - HEIGHT: 512 (int)\n     - COLOR: (0, 0, 0, 1) (tuple)\n\n3. COMMAND\n     - METHOD: \"Viewport/render\" (str)\n     - COMMAND_ID: 3 (int)\n     - TIMESTAMP: 2024-08-10T08:21:11.054388 (datetime)\n   PARAMETERS\n     - OBJECT_ID: 2 (int)\n     - TARGET: png (str)\n\n</code></pre> <pre><code>- method: core.Canvas\n  cid: 1\n  timestamp: 1723270871.054342\n  parameters: {id: 1, width: 512, height: 512, dpi: 100.0}\n- method: core.Viewport\n  cid: 2\n  timestamp: 1723270871.054373\n  parameters:\n    id: 2\n    canvas: 1\n    x: 0\n    y: 0\n    width: 512\n    height: 512\n    color: !!python/tuple [0, 0, 0, 1]\n- method: Viewport/render\n  cid: 3\n  timestamp: 1723270871.054388\n  parameters: {id: 2, target: png}\n</code></pre> <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"commands\": [\n    {\n      \"method\": \"core.Canvas\",\n      \"id\": 1,\n      \"timestamp\": 1723270871.054342,\n      \"parameters\": {\n        \"id\": 1,\n        \"width\": 512,\n        \"height\": 512,\n        \"dpi\": 100.0\n      }\n    },\n    {\n      \"method\": \"core.Viewport\",\n      \"id\": 2,\n      \"timestamp\": 1723270871.054373,\n      \"parameters\": {\n        \"id\": 2,\n        \"canvas\": 1,\n        \"x\": 0,\n        \"y\": 0,\n        \"width\": 512,\n        \"height\": 512,\n        \"color\": [\n          0,\n          0,\n          0,\n          1\n        ]\n      }\n    },\n    {\n      \"method\": \"Viewport/render\",\n      \"id\": 3,\n      \"timestamp\": 1723270871.054388,\n      \"parameters\": {\n        \"id\": 2,\n        \"target\": \"png\"\n      }\n    }\n  ]\n}\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>target</code> <code>str</code> <p>Filename of the target</p> required"},{"location":"api/io/command.html","title":"Command","text":""},{"location":"api/io/command.html#gsp.io.command.CommandQueue","title":"CommandQueue","text":"<pre><code>CommandQueue(default=True, readonly=False)\n</code></pre> <p>A command queue allows to store a list of Command that can be ran later.</p> <p>Parameters:</p> Name Type Description Default <code>default</code> <code>bool</code> <p>Make this queue the default one.</p> <code>True</code> Source code in <code>gsp/io/command.py</code> <pre><code>def __init__(self, default=True, readonly=False):\n    \"\"\"\n    Create a new empty command queue.\n\n    Parameters\n    ----------\n\n    default : bool\n\n        Make this queue the default one.\n    \"\"\"\n\n    self._commands = []\n    self.readonly = readonly\n    if default:\n        CommandQueue._default = self\n</code></pre>"},{"location":"api/io/command.html#gsp.io.command.Command","title":"Command","text":"<pre><code>Command(classname, methodname, parameters, annotations)\n</code></pre> <p>Generic command with a unique id.</p> <p>Parameters:</p> Name Type Description Default <code>classname</code> <code>string</code> <p>Name of the class</p> required <code>methodname</code> <code>string</code> <p>Name of the method</p> required <code>parameters</code> <code>dict</code> <p>Dictionnary of parameters</p> required <code>annotations</code> <code>dict</code> <p>Annoated type of the called method</p> required <p>Examples:</p> <pre><code>class Foo(Object):\n    def __init__(self, value : int):\n        self.value = value\n\ncommand = Command(\"Foo\", \"__init__\", {\"value\" : 1})\nfoo = command.execute()\n</code></pre> Source code in <code>gsp/io/command.py</code> <pre><code>def __init__(self,  classname,  methodname, parameters, annotations):\n    \"\"\" Build a new command with a unique command id (cid)\n\n    Parameters\n    ----------\n\n    classname : string\n        Name of the class\n\n    methodname : string\n        Name of the method\n\n    parameters : dict\n        Dictionnary of parameters\n\n    annotations : dict\n\n        Annoated type of the called method\n\n    Examples\n    --------\n\n    ```python\n    class Foo(Object):\n        def __init__(self, value : int):\n            self.value = value\n\n    command = Command(\"Foo\", \"__init__\", {\"value\" : 1})\n    foo = command.execute()\n    ```\n    \"\"\"\n\n    self.id = CID()\n    self.timestamp = datetime.timestamp(datetime.now())\n    if \"id\" not in parameters.keys():\n        raise ValueError(\"Parameters needs to have an id\")\n    self.classname = classname\n    self.methodname = methodname\n    self.parameters = parameters\n    for key, value in parameters.items():\n        if isinstance(value, Object):\n            self.parameters[key] = value.id\n    self.annotations = annotations\n</code></pre>"},{"location":"api/io/command.html#gsp.io.command.command","title":"command","text":"<pre><code>command(name=None)\n</code></pre> <p>Function decorator that create a command when the function is called and optionally record it and/or write it to stdout. The name of the method it decorates can be overriden with the method argument.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>string</code> <p>Alternative name of the command. If not provided, the actual name is used</p> <code>None</code> Source code in <code>gsp/io/command.py</code> <pre><code>def command(name=None):\n    \"\"\"\n    Function decorator that create a command when the function is called and\n    optionally record it and/or write it to stdout. The name of the method it\n    decorates can be overriden with the method argument.\n\n    Parameters\n    ----------\n\n    name : string\n\n        Alternative name of the command. If not provided, the actual\n        name is used\n    \"\"\"\n\n    def wrapper(func):\n\n        @wraps(func)\n        def inner(self, *args, **kwargs):\n\n            no_command = False\n            if \"__no_command__\" in kwargs:\n                no_command = True\n                del kwargs[\"__no_command__\"]\n\n            keys = func.__code__.co_varnames[1:]\n            annotations = func.__annotations__\n            annotations = typing.get_type_hints(func)\n\n            values = args\n            defaults = get_default_args(func)\n\n            func(self, *args, **kwargs)\n\n            # Add self (identifying by id) to parameters\n            parameters = {\"id\": self.id}\n\n            # Parameters\n            for key,value in zip(keys,values):\n                parameters[key] = value\n\n            # Named parameters\n            for key,value in zip(kwargs.keys(), kwargs.values()):\n                if key not in parameters.keys():\n                    parameters[key] = value\n\n            # Default parameters\n            for key,value in defaults.items():\n                if key not in parameters.keys():\n                    parameters[key] = value\n\n            # Get default command queue\n            queue = CommandQueue.get_default()\n\n            # Check if parameter is of the right type, else, search\n            # for a conversion method inside the parameter class.\n            for key,value in parameters.items():\n                if key in annotations.keys():\n\n                    check = False\n                    parameter_type = parameters[key].__class__\n                    if \"[\" in parameter_type.__name__:\n                        parameter_type = parameters[key].__class__.__base__\n\n                    if get_origin(annotations[key]) is UnionType:\n                        annotated_types = list(get_args(annotations[key]))\n                    else:\n                        annotated_types = annotations[key],\n\n                    for annotated_type in annotated_types:\n                        # Parameter is an instance of one the annotated type\n                        if (annotated_type == parameter_type or\n                            isinstance(parameter_type,annotated_type) or\n                            issubclass(parameter_type,annotated_type)):\n                            check = True\n                            break\n\n                        if parameter_type == types.NoneType:\n                            check = True\n                            break\n\n                        # Found converter, register it\n                        converter = get_converter(parameter_type, annotated_type)\n                        if converter:\n                            check = True\n                            # if queue._immediate:\n                            # Immediate conversion\n                            # parameters[key] = converter(value)\n                            # else:\n                            # Delayed conversion\n                            parameters[key] = Converter(converter ,value)\n\n                    if check:\n                        continue\n                    else:\n                        raise ValueError(\n                            \"No converter found for converting %s to %s.\"\n                            % (parameter_type, annotated_types))\n\n            if not no_command and not queue.readonly:\n                classname = self.__class__.__name__\n                methodname = func.__code__.co_name if name is None else name\n                command = Command(classname, methodname, parameters, annotations)\n                queue.push(command)\n                log.info(\"%s\" % command)\n\n        return inner\n    return wrapper\n</code></pre>"},{"location":"api/transform/operators.html","title":"Operators","text":""},{"location":"api/transform/operators.html#gsp.transform.Operator","title":"Operator","text":"<pre><code>Operator(\n    operator: str,\n    left: Transform | Buffer = None,\n    right: Transform | Buffer = None,\n)\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>operator</code> <code>str</code> <p>Operator description, one of: <code>+</code> (addition), <code>-</code> (subtraction), <code>/</code> (division), <code>*</code> (mutliplication),</p> required <code>left</code> <code>Transform | Buffer</code> <p>Left operand (transform or buffer)</p> <code>None</code> <code>right</code> <code>Transform | Buffer</code> <p>Right operand (transform or buffer)</p> <code>None</code>"},{"location":"api/transform/operators.html#gsp.transform.Operator.set_operator","title":"set_operator","text":"<pre><code>set_operator(operator: str)\n</code></pre> <p>Set operator</p> <p>Parameters:</p> Name Type Description Default <code>operator</code> <code>str</code> <p>Operator</p> required"},{"location":"api/transform/operators.html#gsp.transform.Operator.set_left","title":"set_left","text":"<pre><code>set_left(left: Transform)\n</code></pre> <p>Set left operand</p> <p>Parameters:</p> Name Type Description Default <code>left</code> <code>Transform</code> <p>Left operand (transform or buffer)</p> required"},{"location":"api/transform/operators.html#gsp.transform.Operator.set_right","title":"set_right","text":"<pre><code>set_right(right: Transform)\n</code></pre> <p>Set right operand</p> <p>Parameters:</p> Name Type Description Default <code>right</code> <code>Transform</code> <p>Righ operand (transform or buffer)</p> required"},{"location":"api/transform/operators.html#gsp.transform.Add","title":"Add","text":"<pre><code>Add(\n    left: Transform | Buffer = None,\n    right: Transform | Buffer = None,\n)\n</code></pre>"},{"location":"api/transform/operators.html#gsp.transform.Sub","title":"Sub","text":"<pre><code>Sub(\n    left: Transform | Buffer = None,\n    right: Transform | Buffer = None,\n)\n</code></pre>"},{"location":"api/transform/operators.html#gsp.transform.Mul","title":"Mul","text":"<pre><code>Mul(\n    left: Transform | Buffer = None,\n    right: Transform | Buffer = None,\n)\n</code></pre>"},{"location":"api/transform/operators.html#gsp.transform.Div","title":"Div","text":"<pre><code>Div(\n    left: Transform | Buffer = None,\n    right: Transform | Buffer = None,\n)\n</code></pre>"},{"location":"api/transform/transform.html","title":"Transform","text":""},{"location":"api/transform/transform.html#gsp.transform.Transform","title":"Transform","text":"<pre><code>Transform(\n    base: Transform = None,\n    next: Transform = None,\n    buffer: Buffer = None,\n)\n</code></pre> <p>used in place of a Buffer where needed. Several transforms can be chained or composed together.</p> <p>Parameters:</p> Name Type Description Default <code>base</code> <code>Transform</code> <p>The base transform this transform is based on. When non null, all transform parameters are read from the base.</p> <code>None</code> <code>next</code> <code>Transform</code> <p>A transformation can be chained with another transform (<code>next</code>). In such case, the <code>next</code> transform is applied first and result is passed to the current transform.</p> <code>None</code> <code>buffer</code> <code>Buffer</code> <p>Buffer on which to apply the transform. When non null, the transformation is bound and cannot be modified anymore.</p> <code>None</code>"},{"location":"api/transform/transform.html#gsp.transform.Transform.set_base","title":"set_base","text":"<pre><code>set_base(base: Transform = None)\n</code></pre> <p>Set a new base for the transform</p> <p>Parameters:</p> Name Type Description Default <code>base</code> <code>Transform</code> <p>The base transform this transform is based on</p> <code>None</code>"},{"location":"api/transform/transform.html#gsp.transform.Transform.set_next","title":"set_next","text":"<pre><code>set_next(next: Transform = None)\n</code></pre> <p>Compose transform with <code>next</code> that will be applied before this one.</p> <p>Parameters:</p> Name Type Description Default <code>next</code> <code>Transform</code> <p>Next transform</p> <code>None</code>"},{"location":"api/transform/transform.html#gsp.transform.Transform.set_buffer","title":"set_buffer","text":"<pre><code>set_buffer(buffer: Transform = None)\n</code></pre> <p>Bind the transform to the given buffer.</p> <p>Parameters:</p> Name Type Description Default <code>buffer</code> <code>Buffer</code> <p>Buffer to bind</p> <code>None</code>"}]}